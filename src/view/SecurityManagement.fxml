<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.geometry.*?>

<TabPane fx:id="tabPane" tabClosingPolicy="UNAVAILABLE" xmlns="http://javafx.com/javafx/8.0.171" 
         xmlns:fx="http://javafx.com/fxml/1" 
         fx:controller="controller.SecurityManagementController"
         style="-fx-background-color: #2c3e50;">
    
    <tabs>
        <!-- Dashboard Tab -->
        <Tab text="Dashboard">
            <content>
                <VBox spacing="20" style="-fx-padding: 25; -fx-background-color: #2c3e50;">
                    <!-- Header Section -->
                    <HBox spacing="15" alignment="CENTER_LEFT">
                        <Label text="Security Dashboard" 
                               style="-fx-text-fill: white; -fx-font-size: 28px; -fx-font-weight: bold; -fx-font-family: 'Segoe UI', Arial, sans-serif;" />
                        <Region HBox.hgrow="ALWAYS" />
                        <HBox spacing="10" alignment="CENTER_RIGHT">
                            <Button text="Refresh" onAction="#refreshDashboard" 
                                    style="-fx-background-color: #3498db; -fx-text-fill: white; -fx-font-weight: bold; -fx-font-size: 14px; -fx-border-radius: 6; -fx-background-radius: 6; -fx-padding: 10 20; -fx-min-width: 120; -fx-min-height: 40; -fx-cursor: hand; -fx-font-family: 'Segoe UI', Arial, sans-serif;" />
                            <Button text="Test Alert" onAction="#simulateAlert" 
                                    style="-fx-background-color: #f39c12; -fx-text-fill: white; -fx-font-weight: bold; -fx-font-size: 14px; -fx-border-radius: 6; -fx-background-radius: 6; -fx-padding: 10 20; -fx-min-width: 120; -fx-min-height: 40; -fx-cursor: hand; -fx-font-family: 'Segoe UI', Arial, sans-serif;" />
                            <Button text="LOCKDOWN" onAction="#initiateLockdown" 
                                    style="-fx-background-color: #e74c3c; -fx-text-fill: white; -fx-font-weight: bold; -fx-font-size: 14px; -fx-border-radius: 6; -fx-background-radius: 6; -fx-padding: 10 20; -fx-min-width: 120; -fx-min-height: 40; -fx-cursor: hand; -fx-font-family: 'Segoe UI', Arial, sans-serif;" />
                            <Button text="END LOCKDOWN" onAction="#endLockdown" 
                                    style="-fx-background-color: #27ae60; -fx-text-fill: white; -fx-font-weight: bold; -fx-font-size: 14px; -fx-border-radius: 6; -fx-background-radius: 6; -fx-padding: 10 20; -fx-min-width: 120; -fx-min-height: 40; -fx-cursor: hand; -fx-font-family: 'Segoe UI', Arial, sans-serif;" />
                            <Button text="FORCE NORMAL" onAction="#forceNormalStatus" 
                                    style="-fx-background-color: #3498db; -fx-text-fill: white; -fx-font-weight: bold; -fx-font-size: 14px; -fx-border-radius: 6; -fx-background-radius: 6; -fx-padding: 10 20; -fx-min-width: 120; -fx-min-height: 40; -fx-cursor: hand; -fx-font-family: 'Segoe UI', Arial, sans-serif;" />
                        </HBox>
                    </HBox>
                    
                    <!-- Security Statistics Cards -->
                    <HBox spacing="25" alignment="CENTER">
                        <!-- Active Alerts Card -->
                        <VBox spacing="8" alignment="CENTER" 
                              style="-fx-padding: 20; -fx-background-color: #34495e; -fx-border-radius: 10; -fx-background-radius: 10; -fx-border-color: #3498db; -fx-border-width: 2; -fx-min-width: 180; -fx-min-height: 120;">
                            <Label text="Active Alerts" 
                                   style="-fx-text-fill: #bdc3c7; -fx-font-size: 14px; -fx-font-family: 'Segoe UI', Arial, sans-serif;" />
                            <Label fx:id="activeAlertsLabel" text="0" 
                                   style="-fx-text-fill: white; -fx-font-size: 32px; -fx-font-weight: bold; -fx-font-family: 'Segoe UI', Arial, sans-serif;" />
                        </VBox>
                        
                        <!-- System Status Card -->
                        <VBox spacing="8" alignment="CENTER" 
                              style="-fx-padding: 20; -fx-background-color: #34495e; -fx-border-radius: 10; -fx-background-radius: 10; -fx-border-color: #2ecc71; -fx-border-width: 2; -fx-min-width: 180; -fx-min-height: 120;">
                            <Label text="System Status" 
                                   style="-fx-text-fill: #bdc3c7; -fx-font-size: 14px; -fx-font-family: 'Segoe UI', Arial, sans-serif;" />
                            <Label fx:id="systemStatusLabel" text="NORMAL" 
                                   style="-fx-text-fill: #2ecc71; -fx-font-size: 34px; -fx-font-weight: bold; -fx-font-family: 'Segoe UI', Arial, sans-serif;" />
                        </VBox>
                        
                        <!-- Critical Logs Card -->
                        <VBox spacing="8" alignment="CENTER" 
                              style="-fx-padding: 20; -fx-background-color: #34495e; -fx-border-radius: 10; -fx-background-radius: 10; -fx-border-color: #f39c12; -fx-border-width: 2; -fx-min-width: 180; -fx-min-height: 120;">
                            <Label text="Critical Logs" 
                                   style="-fx-text-fill: #bdc3c7; -fx-font-size: 14px; -fx-font-family: 'Segoe UI', Arial, sans-serif;" />
                            <Label fx:id="criticalLogsLabel" text="0" 
                                   style="-fx-text-fill: white; -fx-font-size: 32px; -fx-font-weight: bold; -fx-font-family: 'Segoe UI', Arial, sans-serif;" />
                        </VBox>
                    </HBox>
                    
                    <!-- System Information Panel -->
                    <VBox spacing="15" 
                          style="-fx-padding: 20; -fx-background-color: #34495e; -fx-border-radius: 8; -fx-background-radius: 8;">
                        <Label text="System Information" 
                               style="-fx-text-fill: white; -fx-font-size: 18px; -fx-font-weight: bold; -fx-font-family: 'Segoe UI', Arial, sans-serif;" />
                        <GridPane hgap="20" vgap="12">
                            <columnConstraints>
                                <ColumnConstraints minWidth="150" prefWidth="150" />
                                <ColumnConstraints minWidth="200" prefWidth="200" />
                            </columnConstraints>
                            
                            <Label text="Last Update:" 
                                   style="-fx-text-fill: #bdc3c7; -fx-font-size: 14px; -fx-font-family: 'Segoe UI', Arial, sans-serif;" 
                                   GridPane.rowIndex="0" GridPane.columnIndex="0" />
                            <Label fx:id="lastUpdateLabel" text="Loading..." 
                                   style="-fx-text-fill: white; -fx-font-weight: bold; -fx-font-size: 14px; -fx-font-family: 'Segoe UI', Arial, sans-serif;" 
                                   GridPane.rowIndex="0" GridPane.columnIndex="1" />
                            
                            <Label text="System Health:" 
                                   style="-fx-text-fill: #bdc3c7; -fx-font-size: 14px; -fx-font-family: 'Segoe UI', Arial, sans-serif;" 
                                   GridPane.rowIndex="1" GridPane.columnIndex="0" />
                            <HBox spacing="10" alignment="CENTER_LEFT" GridPane.rowIndex="1" GridPane.columnIndex="1">
                                <ProgressBar fx:id="systemStatusBar" progress="0.95" 
                                             style="-fx-accent: #27ae60; -fx-pref-width: 200; -fx-pref-height: 12; -fx-background-color: #34495e; -fx-background-radius: 6; -fx-border-radius: 6;" />
                                <Label fx:id="systemHealthLabel" text="95%" 
                                       style="-fx-text-fill: white; -fx-font-size: 14px; -fx-font-weight: bold; -fx-min-width: 50; -fx-font-family: 'Segoe UI', Arial, sans-serif;" />
                            </HBox>
                            
                            <Label text="Security Level:" 
                                   style="-fx-text-fill: #bdc3c7; -fx-font-size: 14px; -fx-font-family: 'Segoe UI', Arial, sans-serif;" 
                                   GridPane.rowIndex="2" GridPane.columnIndex="0" />
                            <Label fx:id="securityLevelLabel" text="NORMAL" 
                                   style="-fx-text-fill: white; -fx-font-size: 14px; -fx-font-weight: bold; -fx-font-family: 'Segoe UI', Arial, sans-serif;" 
                                   GridPane.rowIndex="2" GridPane.columnIndex="1" />
                        </GridPane>
                    </VBox>
                    
                    <!-- System Status Control Panel -->
                    <VBox spacing="12" 
                          style="-fx-padding: 20; -fx-background-color: #34495e; -fx-border-radius: 8; -fx-background-radius: 8;">
                        <Label text="System Status Control" 
                               style="-fx-text-fill: white; -fx-font-size: 18px; -fx-font-weight: bold; -fx-font-family: 'Segoe UI', Arial, sans-serif;" />
                        <Separator style="-fx-background-color: #7f8c8d;" />
                        <HBox spacing="15" alignment="CENTER_LEFT">
                            <Label text="Current Mode:" 
                                   style="-fx-text-fill: #bdc3c7; -fx-font-size: 14px; -fx-font-family: 'Segoe UI', Arial, sans-serif;" />
                            <Label fx:id="systemModeLabel" text="NORMAL" 
                                   style="-fx-text-fill: #27ae60; -fx-font-weight: bold; -fx-font-size: 14px; -fx-padding: 8 20; -fx-background-color: rgba(39, 174, 96, 0.1); -fx-border-radius: 6; -fx-background-radius: 6; -fx-border-color: #27ae60; -fx-border-width: 1; -fx-font-family: 'Segoe UI', Arial, sans-serif;" />
                            <Region HBox.hgrow="ALWAYS" />
                            <Label fx:id="lastStatusChangeLabel" text="Last change: Never" 
                                   style="-fx-text-fill: #95a5a6; -fx-font-size: 12px; -fx-font-family: 'Segoe UI', Arial, sans-serif;" />
                        </HBox>
                    </VBox>
                    
                    <!-- Quick Actions Panel -->
                    <VBox spacing="12">
                        <Label text="Quick Navigation" 
                               style="-fx-text-fill: white; -fx-font-size: 18px; -fx-font-weight: bold; -fx-font-family: 'Segoe UI', Arial, sans-serif;" />
                        <Separator style="-fx-background-color: #7f8c8d;" />
                        <HBox spacing="15" alignment="CENTER">
                            <Button text="Alerts" onAction="#showAlertsTab" 
                                    style="-fx-background-color: #3498db; -fx-text-fill: white; -fx-font-weight: bold; -fx-font-size: 15px; -fx-border-radius: 6; -fx-background-radius: 6; -fx-padding: 12 25; -fx-min-width: 140; -fx-min-height: 45; -fx-cursor: hand; -fx-font-family: 'Segoe UI', Arial, sans-serif;" />
                            <Button text="Logs" onAction="#showLogsTab" 
                                    style="-fx-background-color: #f39c12; -fx-text-fill: white; -fx-font-weight: bold; -fx-font-size: 15px; -fx-border-radius: 6; -fx-background-radius: 6; -fx-padding: 12 25; -fx-min-width: 140; -fx-min-height: 45; -fx-cursor: hand; -fx-font-family: 'Segoe UI', Arial, sans-serif;" />
                            <Button text="Tasks" onAction="#showTasksTab" 
                                    style="-fx-background-color: #2ecc71; -fx-text-fill: white; -fx-font-weight: bold; -fx-font-size: 15px; -fx-border-radius: 6; -fx-background-radius: 6; -fx-padding: 12 25; -fx-min-width: 140; -fx-min-height: 45; -fx-cursor: hand; -fx-font-family: 'Segoe UI', Arial, sans-serif;" />
                            <Button text="Access Control" onAction="#showAccessControlTab" 
                                    style="-fx-background-color: #9b59b6; -fx-text-fill: white; -fx-font-weight: bold; -fx-font-size: 15px; -fx-border-radius: 6; -fx-background-radius: 6; -fx-padding: 12 25; -fx-min-width: 140; -fx-min-height: 45; -fx-cursor: hand; -fx-font-family: 'Segoe UI', Arial, sans-serif;" />
                        </HBox>
                    </VBox>
                </VBox>
            </content>
        </Tab>
        
        <!-- Alerts Tab -->
        <Tab text="Alerts">
            <content>
                <VBox spacing="20" style="-fx-padding: 25; -fx-background-color: #2c3e50;">
                    <!-- Header Section -->
                    <HBox spacing="15" alignment="CENTER_LEFT">
                        <Label text="Security Alerts" 
                               style="-fx-text-fill: white; -fx-font-size: 24px; -fx-font-weight: bold; -fx-font-family: 'Segoe UI', Arial, sans-serif;" />
                        <Region HBox.hgrow="ALWAYS" />
                        <HBox spacing="10" alignment="CENTER_RIGHT">
                            <Button text="New Alert" onAction="#createNewAlert" 
                                    style="-fx-background-color: #3498db; -fx-text-fill: white; -fx-font-weight: bold; -fx-font-size: 14px; -fx-border-radius: 6; -fx-background-radius: 6; -fx-padding: 10 20; -fx-min-width: 120; -fx-min-height: 40; -fx-cursor: hand; -fx-font-family: 'Segoe UI', Arial, sans-serif;" />
                            <Button text="Acknowledge" onAction="#acknowledgeAlert" 
                                    style="-fx-background-color: #f39c12; -fx-text-fill: white; -fx-font-weight: bold; -fx-font-size: 14px; -fx-border-radius: 6; -fx-background-radius: 6; -fx-padding: 10 20; -fx-min-width: 120; -fx-min-height: 40; -fx-cursor: hand; -fx-font-family: 'Segoe UI', Arial, sans-serif;" />
                            <Button text="Resolve" onAction="#resolveAlert" 
                                    style="-fx-background-color: #2ecc71; -fx-text-fill: white; -fx-font-weight: bold; -fx-font-size: 14px; -fx-border-radius: 6; -fx-background-radius: 6; -fx-padding: 10 20; -fx-min-width: 120; -fx-min-height: 40; -fx-cursor: hand; -fx-font-family: 'Segoe UI', Arial, sans-serif;" />
                            <Button text="View Details" onAction="#viewAlertDetails" 
                                    style="-fx-background-color: #3498db; -fx-text-fill: white; -fx-font-weight: bold; -fx-font-size: 14px; -fx-border-radius: 6; -fx-background-radius: 6; -fx-padding: 10 20; -fx-min-width: 120; -fx-min-height: 40; -fx-cursor: hand; -fx-font-family: 'Segoe UI', Arial, sans-serif;" />
                            <Button text="Create Task" onAction="#handleCreateTaskFromAlert" 
                                    style="-fx-background-color: #9b59b6; -fx-text-fill: white; -fx-font-weight: bold; -fx-font-size: 14px; -fx-border-radius: 6; -fx-background-radius: 6; -fx-padding: 10 20; -fx-min-width: 120; -fx-min-height: 40; -fx-cursor: hand; -fx-font-family: 'Segoe UI', Arial, sans-serif;" />
                        </HBox>
                    </HBox>
                    
                    <!-- Filter Section -->
                    <HBox spacing="20" alignment="CENTER_LEFT" 
                          style="-fx-padding: 15; -fx-background-color: #34495e; -fx-border-radius: 8; -fx-background-radius: 8;">
                        <Label text="Filter:" 
                               style="-fx-text-fill: white; -fx-font-size: 14px; -fx-font-weight: bold; -fx-font-family: 'Segoe UI', Arial, sans-serif;" />
                        <HBox spacing="15">
                            <RadioButton fx:id="allAlertsRadio" text="All" selected="true" 
                                         style="-fx-text-fill: white; -fx-font-size: 14px; -fx-font-family: 'Segoe UI', Arial, sans-serif;" />
                            <RadioButton fx:id="activeAlertsRadio" text="Active" 
                                         style="-fx-text-fill: white; -fx-font-size: 14px; -fx-font-family: 'Segoe UI', Arial, sans-serif;" />
                            <RadioButton fx:id="criticalAlertsRadio" text="Critical" 
                                         style="-fx-text-fill: white; -fx-font-size: 14px; -fx-font-family: 'Segoe UI', Arial, sans-serif;" />
                        </HBox>
                    </HBox>
                    
                    <!-- Alerts Table -->
                    <TableView fx:id="alertsTable" 
                               style="-fx-background-color: #ecf0f1; -fx-border-color: #bdc3c7; -fx-border-radius: 8; -fx-background-radius: 8;" 
                               VBox.vgrow="ALWAYS">
                        <columns>
                            <TableColumn fx:id="alertIdCol" text="Alert ID" minWidth="100" 
                                         style="-fx-alignment: CENTER_LEFT; -fx-font-size: 13px;" />
                            <TableColumn fx:id="alertTypeCol" text="Type" minWidth="100" 
                                         style="-fx-alignment: CENTER_LEFT; -fx-font-size: 13px;" />
                            <TableColumn fx:id="alertSeverityCol" text="Severity" minWidth="80" 
                                         style="-fx-alignment: CENTER_LEFT; -fx-font-size: 13px;" />
                            <TableColumn fx:id="alertDescriptionCol" text="Description" minWidth="200" 
                                         style="-fx-alignment: CENTER_LEFT; -fx-font-size: 13px;" />
                            <TableColumn fx:id="alertLocationCol" text="Location" minWidth="100" 
                                         style="-fx-alignment: CENTER_LEFT; -fx-font-size: 13px;" />
                            <TableColumn fx:id="alertTriggeredCol" text="Triggered" minWidth="120" 
                                         style="-fx-alignment: CENTER_LEFT; -fx-font-size: 13px;" />
                            <TableColumn fx:id="alertStatusCol" text="Status" minWidth="80" 
                                         style="-fx-alignment: CENTER_LEFT; -fx-font-size: 13px;" />
                            <TableColumn fx:id="alertActionsCol" text="Actions" minWidth="150" 
                                         style="-fx-alignment: CENTER; -fx-font-size: 13px;" />
                        </columns>
                        <columnResizePolicy>
                            <TableView fx:constant="CONSTRAINED_RESIZE_POLICY" />
                        </columnResizePolicy>
                    </TableView>
                </VBox>
            </content>
        </Tab>
        
        <!-- Logs Tab -->
        <Tab text="Logs">
            <content>
                <VBox spacing="20" style="-fx-padding: 25; -fx-background-color: #2c3e50;">
                    <!-- Header Section -->
                    <HBox spacing="15" alignment="CENTER_LEFT">
                        <Label text="Security Logs" 
                               style="-fx-text-fill: white; -fx-font-size: 24px; -fx-font-weight: bold; -fx-font-family: 'Segoe UI', Arial, sans-serif;" />
                        <Region HBox.hgrow="ALWAYS" />
                        <HBox spacing="10" alignment="CENTER_RIGHT">
                            <Button text="Export Logs" onAction="#exportSecurityLogs" 
                                    style="-fx-background-color: #3498db; -fx-text-fill: white; -fx-font-weight: bold; -fx-font-size: 14px; -fx-border-radius: 6; -fx-background-radius: 6; -fx-padding: 10 20; -fx-min-width: 120; -fx-min-height: 40; -fx-cursor: hand; -fx-font-family: 'Segoe UI', Arial, sans-serif;" />
                            <Button text="Resolve Log" onAction="#resolveSecurityLog" 
                                    style="-fx-background-color: #f39c12; -fx-text-fill: white; -fx-font-weight: bold; -fx-font-size: 14px; -fx-border-radius: 6; -fx-background-radius: 6; -fx-padding: 10 20; -fx-min-width: 120; -fx-min-height: 40; -fx-cursor: hand; -fx-font-family: 'Segoe UI', Arial, sans-serif;" />
                            <Button text="View Details" onAction="#viewLogDetails" 
                                    style="-fx-background-color: #3498db; -fx-text-fill: white; -fx-font-weight: bold; -fx-font-size: 14px; -fx-border-radius: 6; -fx-background-radius: 6; -fx-padding: 10 20; -fx-min-width: 120; -fx-min-height: 40; -fx-cursor: hand; -fx-font-family: 'Segoe UI', Arial, sans-serif;" />
                            <Button text="Clear Old Logs" onAction="#clearOldLogs" 
                                    style="-fx-background-color: #e74c3c; -fx-text-fill: white; -fx-font-weight: bold; -fx-font-size: 14px; -fx-border-radius: 6; -fx-background-radius: 6; -fx-padding: 10 20; -fx-min-width: 120; -fx-min-height: 40; -fx-cursor: hand; -fx-font-family: 'Segoe UI', Arial, sans-serif;" />
                        </HBox>
                    </HBox>
                    
                    <!-- Filter Section -->
                    <HBox spacing="20" alignment="CENTER_LEFT" 
                          style="-fx-padding: 15; -fx-background-color: #34495e; -fx-border-radius: 8; -fx-background-radius: 8;">
                        <Label text="Time Range:" 
                               style="-fx-text-fill: white; -fx-font-size: 14px; -fx-font-weight: bold; -fx-font-family: 'Segoe UI', Arial, sans-serif;" />
                        <HBox spacing="15">
                            <RadioButton fx:id="last24HoursRadio" text="24 Hours" selected="true" 
                                         style="-fx-text-fill: white; -fx-font-size: 14px; -fx-font-family: 'Segoe UI', Arial, sans-serif;" />
                            <RadioButton fx:id="last7DaysRadio" text="7 Days" 
                                         style="-fx-text-fill: white; -fx-font-size: 14px; -fx-font-family: 'Segoe UI', Arial, sans-serif;" />
                            <RadioButton fx:id="last30DaysRadio" text="30 Days" 
                                         style="-fx-text-fill: white; -fx-font-size: 14px; -fx-font-family: 'Segoe UI', Arial, sans-serif;" />
                            <RadioButton fx:id="allTimeRadio" text="All Time" 
                                         style="-fx-text-fill: white; -fx-font-size: 14px; -fx-font-family: 'Segoe UI', Arial, sans-serif;" />
                        </HBox>
                        <Region HBox.hgrow="ALWAYS" />
                        <Label text="Severity:" 
                               style="-fx-text-fill: white; -fx-font-size: 14px; -fx-font-weight: bold; -fx-font-family: 'Segoe UI', Arial, sans-serif;" />
                        <ComboBox fx:id="severityComboBox" prefWidth="150" 
                                  style="-fx-background-color: #ecf0f1; -fx-border-color: #bdc3c7; -fx-border-radius: 5; -fx-background-radius: 5; -fx-font-size: 14px; -fx-font-family: 'Segoe UI', Arial, sans-serif;" />
                    </HBox>
                    
                    <!-- Logs Table -->
                    <TableView fx:id="logsTable" 
                               style="-fx-background-color: #ecf0f1; -fx-border-color: #bdc3c7; -fx-border-radius: 8; -fx-background-radius: 8;" 
                               VBox.vgrow="ALWAYS">
                        <columns>
                            <TableColumn fx:id="logIdCol" text="Log ID" minWidth="100" 
                                         style="-fx-alignment: CENTER_LEFT; -fx-font-size: 13px;" />
                            <TableColumn fx:id="logEventTypeCol" text="Event Type" minWidth="120" 
                                         style="-fx-alignment: CENTER_LEFT; -fx-font-size: 13px;" />
                            <TableColumn fx:id="logSeverityCol" text="Severity" minWidth="80" 
                                         style="-fx-alignment: CENTER_LEFT; -fx-font-size: 13px;" />
                            <TableColumn fx:id="logDescriptionCol" text="Description" minWidth="200" 
                                         style="-fx-alignment: CENTER_LEFT; -fx-font-size: 13px;" />
                            <TableColumn fx:id="logLocationCol" text="Location" minWidth="100" 
                                         style="-fx-alignment: CENTER_LEFT; -fx-font-size: 13px;" />
                            <TableColumn fx:id="logTimestampCol" text="Timestamp" minWidth="120" 
                                         style="-fx-alignment: CENTER_LEFT; -fx-font-size: 13px;" />
                            <TableColumn fx:id="logEmployeeCol" text="Employee" minWidth="100" 
                                         style="-fx-alignment: CENTER_LEFT; -fx-font-size: 13px;" />
                            <TableColumn fx:id="logStatusCol" text="Status" minWidth="80" 
                                         style="-fx-alignment: CENTER_LEFT; -fx-font-size: 13px;" />
                        </columns>
                        <columnResizePolicy>
                            <TableView fx:constant="CONSTRAINED_RESIZE_POLICY" />
                        </columnResizePolicy>
                    </TableView>
                </VBox>
            </content>
        </Tab>
        
        <!-- Tasks Tab -->
        <Tab text="Tasks">
            <content>
                <VBox spacing="20" style="-fx-padding: 25; -fx-background-color: #2c3e50;">
                    <!-- Header Section -->
                    <HBox spacing="15" alignment="CENTER_LEFT">
                        <Label text="Security Tasks" 
                               style="-fx-text-fill: white; -fx-font-size: 24px; -fx-font-weight: bold; -fx-font-family: 'Segoe UI', Arial, sans-serif;" />
                        <Region HBox.hgrow="ALWAYS" />
                        <HBox spacing="10" alignment="CENTER_RIGHT">
                            <Button text="Create from Alert" onAction="#handleCreateTaskFromAlert" 
                                    style="-fx-background-color: #2ecc71; -fx-text-fill: white; -fx-font-weight: bold; -fx-font-size: 14px; -fx-border-radius: 6; -fx-background-radius: 6; -fx-padding: 10 20; -fx-min-width: 120; -fx-min-height: 40; -fx-cursor: hand; -fx-font-family: 'Segoe UI', Arial, sans-serif;" />
                            <Button text="Quick Task" onAction="#handleCreateQuickTask" 
                                    style="-fx-background-color: #f39c12; -fx-text-fill: white; -fx-font-weight: bold; -fx-font-size: 14px; -fx-border-radius: 6; -fx-background-radius: 6; -fx-padding: 10 20; -fx-min-width: 120; -fx-min-height: 40; -fx-cursor: hand; -fx-font-family: 'Segoe UI', Arial, sans-serif;" />
                            <Button text="View Details" onAction="#viewSelectedTaskDetails" 
                                    style="-fx-background-color: #3498db; -fx-text-fill: white; -fx-font-weight: bold; -fx-font-size: 14px; -fx-border-radius: 6; -fx-background-radius: 6; -fx-padding: 10 20; -fx-min-width: 120; -fx-min-height: 40; -fx-cursor: hand; -fx-font-family: 'Segoe UI', Arial, sans-serif;" />
                            <Button text="Mark Complete" onAction="#completeSelectedTask" 
                                    style="-fx-background-color: #2ecc71; -fx-text-fill: white; -fx-font-weight: bold; -fx-font-size: 14px; -fx-border-radius: 6; -fx-background-radius: 6; -fx-padding: 10 20; -fx-min-width: 120; -fx-min-height: 40; -fx-cursor: hand; -fx-font-family: 'Segoe UI', Arial, sans-serif;" />
                            <Button text="Refresh" onAction="#refreshTasks" 
                                    style="-fx-background-color: #3498db; -fx-text-fill: white; -fx-font-weight: bold; -fx-font-size: 14px; -fx-border-radius: 6; -fx-background-radius: 6; -fx-padding: 10 20; -fx-min-width: 120; -fx-min-height: 40; -fx-cursor: hand; -fx-font-family: 'Segoe UI', Arial, sans-serif;" />
                        </HBox>
                    </HBox>
            
                    <!-- Tasks Table -->
                    <TableView fx:id="tasksTable" 
                               style="-fx-background-color: #ecf0f1; -fx-border-color: #bdc3c7; -fx-border-radius: 8; -fx-background-radius: 8;" 
                               VBox.vgrow="ALWAYS">
                        <columns>
                            <TableColumn fx:id="taskIdColumn" text="Task ID" minWidth="100" 
                                         style="-fx-alignment: CENTER_LEFT; -fx-font-size: 13px;" />
                            <TableColumn fx:id="taskTitleColumn" text="Title" minWidth="150" 
                                         style="-fx-alignment: CENTER_LEFT; -fx-font-size: 13px;" />
                            <TableColumn fx:id="taskPriorityColumn" text="Priority" minWidth="80" 
                                         style="-fx-alignment: CENTER_LEFT; -fx-font-size: 13px;" />
                            <TableColumn fx:id="taskStatusColumn" text="Status" minWidth="100" 
                                         style="-fx-alignment: CENTER_LEFT; -fx-font-size: 13px;" />
                            <TableColumn fx:id="taskAssignedToColumn" text="Assigned To" minWidth="100" 
                                         style="-fx-alignment: CENTER_LEFT; -fx-font-size: 13px;" />
                            <TableColumn fx:id="taskDueDateColumn" text="Due Date" minWidth="100" 
                                         style="-fx-alignment: CENTER_LEFT; -fx-font-size: 13px;" />
                        </columns>
                        <columnResizePolicy>
                            <TableView fx:constant="CONSTRAINED_RESIZE_POLICY" />
                        </columnResizePolicy>
                    </TableView>
                </VBox>
            </content>
        </Tab>
        
        <!-- Access Control Tab -->
        <Tab text="Access Control">
            <content>
                <VBox spacing="20" style="-fx-padding: 25; -fx-background-color: #2c3e50;">
                    <!-- Header Section -->
                    <Label text="Access Control" 
                           style="-fx-text-fill: white; -fx-font-size: 24px; -fx-font-weight: bold; -fx-font-family: 'Segoe UI', Arial, sans-serif;" />
                    
                    <!-- Grant Permission Section -->
                    <VBox spacing="12" 
                          style="-fx-padding: 15; -fx-background-color: #34495e; -fx-border-radius: 8; -fx-background-radius: 8;">
                        <Label text="Grant Permission" 
                               style="-fx-text-fill: white; -fx-font-size: 16px; -fx-font-weight: bold; -fx-font-family: 'Segoe UI', Arial, sans-serif;" />
                        <HBox spacing="15" alignment="CENTER_LEFT">
                            <TextField fx:id="employeeIdField" promptText="Employee ID" 
                                       style="-fx-background-color: #ecf0f1; -fx-border-color: #bdc3c7; -fx-border-radius: 5; -fx-background-radius: 5; -fx-padding: 10; -fx-pref-width: 180; -fx-min-height: 40; -fx-font-size: 14px; -fx-font-family: 'Segoe UI', Arial, sans-serif;" />
                            <ComboBox fx:id="moduleComboBox" promptText="Module" 
                                      style="-fx-background-color: #ecf0f1; -fx-border-color: #bdc3c7; -fx-border-radius: 5; -fx-background-radius: 5; -fx-pref-width: 180; -fx-min-height: 40; -fx-font-size: 14px; -fx-font-family: 'Segoe UI', Arial, sans-serif;" />
                            <ComboBox fx:id="permissionComboBox" promptText="Permission" 
                                      style="-fx-background-color: #ecf0f1; -fx-border-color: #bdc3c7; -fx-border-radius: 5; -fx-background-radius: 5; -fx-pref-width: 180; -fx-min-height: 40; -fx-font-size: 14px; -fx-font-family: 'Segoe UI', Arial, sans-serif;" />
                            <Button text="Grant" onAction="#grantPermission" 
                                    style="-fx-background-color: #2ecc71; -fx-text-fill: white; -fx-font-weight: bold; -fx-font-size: 14px; -fx-border-radius: 6; -fx-background-radius: 6; -fx-padding: 10 20; -fx-min-width: 100; -fx-min-height: 40; -fx-cursor: hand; -fx-font-family: 'Segoe UI', Arial, sans-serif;" />
                        </HBox>
                    </VBox>
                    
                    <!-- Revoke Permission Section -->
                    <VBox spacing="12" 
                          style="-fx-padding: 15; -fx-background-color: #34495e; -fx-border-radius: 8; -fx-background-radius: 8;">
                        <Label text="Revoke Permission" 
                               style="-fx-text-fill: white; -fx-font-size: 16px; -fx-font-weight: bold; -fx-font-family: 'Segoe UI', Arial, sans-serif;" />
                        <HBox spacing="15" alignment="CENTER_LEFT">
                            <TextField fx:id="revokeEmployeeIdField" promptText="Employee ID" 
                                       style="-fx-background-color: #ecf0f1; -fx-border-color: #bdc3c7; -fx-border-radius: 5; -fx-background-radius: 5; -fx-padding: 10; -fx-pref-width: 180; -fx-min-height: 40; -fx-font-size: 14px; -fx-font-family: 'Segoe UI', Arial, sans-serif;" />
                            <ComboBox fx:id="revokeModuleComboBox" promptText="Module" 
                                      style="-fx-background-color: #ecf0f1; -fx-border-color: #bdc3c7; -fx-border-radius: 5; -fx-background-radius: 5; -fx-pref-width: 180; -fx-min-height: 40; -fx-font-size: 14px; -fx-font-family: 'Segoe UI', Arial, sans-serif;" />
                            <Button text="Revoke" onAction="#revokePermission" 
                                    style="-fx-background-color: #e74c3c; -fx-text-fill: white; -fx-font-weight: bold; -fx-font-size: 14px; -fx-border-radius: 6; -fx-background-radius: 6; -fx-padding: 10 20; -fx-min-width: 100; -fx-min-height: 40; -fx-cursor: hand; -fx-font-family: 'Segoe UI', Arial, sans-serif;" />
                        </HBox>
                    </VBox>
                    
                    <!-- Access Control Table -->
                    <TableView fx:id="accessControlTable" 
                               style="-fx-background-color: #ecf0f1; -fx-border-color: #bdc3c7; -fx-border-radius: 8; -fx-background-radius: 8;" 
                               VBox.vgrow="ALWAYS">
                        <columns>
                            <TableColumn fx:id="acEmployeeIdCol" text="Employee ID" minWidth="100" 
                                         style="-fx-alignment: CENTER_LEFT; -fx-font-size: 13px;" />
                            <TableColumn fx:id="acEmployeeNameCol" text="Name" minWidth="150" 
                                         style="-fx-alignment: CENTER_LEFT; -fx-font-size: 13px;" />
                            <TableColumn fx:id="acModuleCol" text="Module" minWidth="150" 
                                         style="-fx-alignment: CENTER_LEFT; -fx-font-size: 13px;" />
                            <TableColumn fx:id="acPermissionCol" text="Permission" minWidth="80" 
                                         style="-fx-alignment: CENTER_LEFT; -fx-font-size: 13px;" />
                            <TableColumn fx:id="acGrantedDateCol" text="Granted Date" minWidth="100" 
                                         style="-fx-alignment: CENTER_LEFT; -fx-font-size: 13px;" />
                            <TableColumn fx:id="acStatusCol" text="Status" minWidth="80" 
                                         style="-fx-alignment: CENTER_LEFT; -fx-font-size: 13px;" />
                            <TableColumn fx:id="acActionsCol" text="Actions" minWidth="120" 
                                         style="-fx-alignment: CENTER; -fx-font-size: 13px;" />
                        </columns>
                        <columnResizePolicy>
                            <TableView fx:constant="CONSTRAINED_RESIZE_POLICY" />
                        </columnResizePolicy>
                    </TableView>
                </VBox>
            </content>
        </Tab>
    </tabs>
</TabPane>